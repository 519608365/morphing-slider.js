(function e(t,n,r){function s(o,u){if(!n[o]){if(!t[o]){var a=typeof require=="function"&&require;if(!u&&a)return a(o,!0);if(i)return i(o,!0);var f=new Error("Cannot find module '"+o+"'");throw f.code="MODULE_NOT_FOUND",f}var l=n[o]={exports:{}};t[o][0].call(l.exports,function(e){var n=t[o][1][e];return s(n?n:e)},l,l.exports,e,t,n,r)}return n[o].exports}var i=typeof require=="function"&&require;for(var o=0;o<r.length;o++)s(r[o]);return s})({1:[function(require,module,exports){
"use strict";

Object.defineProperty(exports, "__esModule", {
    value: true
});

var _createClass = (function () { function defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if ("value" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } } return function (Constructor, protoProps, staticProps) { if (protoProps) defineProperties(Constructor.prototype, protoProps); if (staticProps) defineProperties(Constructor, staticProps); return Constructor; }; })();

function _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError("Cannot call a class as a function"); } }

var MorphingSlider = (function () {
    function MorphingSlider(stageURL) {
        _classCallCheck(this, MorphingSlider);

        this.stage = new createjs.Stage(stageURL);
        this.slides = [];
        this.transformEasing = this.alphaEasing = "linear";
        this.direction = true;
        this.duration = 500;
        this.interval = 1000;
        this.isAnimating = false;
        this.index = 0; //表示している画像のindex
        this.width = 0;
        this.height = 0;

        window.requestAnimationFrame = (function () {
            return window.requestAnimationFrame || window.webkitRequestAnimationFrame || window.mozRequestAnimationFrame || window.msRequestAnimationFrame || window.oRequestAnimationFrame || function (f) {
                return window.setTimeout(f, 1000 / 60);
            };
        })();

        window.cancelAnimationFrame = (function () {
            return window.cancelAnimationFrame || window.cancelRequestAnimationFrame || window.webkitCancelAnimationFrame || window.webkitCancelRequestAnimationFrame || window.mozCancelAnimationFrame || window.mozCancelRequestAnimationFrame || window.msCancelAnimationFrame || window.msCancelRequestAnimationFrame || window.oCancelAnimationFrame || window.oCancelRequestAnimationFrame || function (id) {
                window.clearTimeout(id);
            };
        })();

        return this;
    }

    _createClass(MorphingSlider, [{
        key: "addSlide",
        value: function addSlide(src, data, callback) {
            var _this = this;

            var image = new Image();
            image.src = src;
            var morphingImage = new MorphingSlider.Slide(image, data.points, data.faces);
            if (this.slides.length > 0) {
                //最初以外は描画しない
                morphingImage.hide();
            }
            this.stage.addChild(morphingImage.container);
            this.slides.push(morphingImage);
            image.onload = function () {
                _this.width = _this.stage.canvas.width = _this.width > image.width ? _this.width : image.width;
                _this.height = _this.stage.canvas.height = _this.height > image.height ? _this.height : image.height;
                _this.stage.update();
                if (callback !== undefined) {
                    callback.bind(_this)();
                }
            };
            return this;
        }
    }, {
        key: "morph",
        value: function morph(direction, callback) {
            //direction : trueで次、falseで前へ

            if (this.isAnimating || this.slides.length < 2) {
                //アニメーションの重複を防ぐ
                return this;
            }

            var startTime = new Date();

            var _direction = direction === undefined ? this.direction : direction; //デフォルトはMorphSliderでの設定値

            var afterIndex;
            if (_direction && this.slides.length === this.index + 1) {
                //向きが通常でいま最後の画像なら
                afterIndex = 0;
            } else if (!_direction && this.index === 0) {
                //向きが逆でいま最初の画像なら
                afterIndex = this.slides.length - 1;
            } else {
                afterIndex = this.index + (_direction * 2 - 1);
            }
            var before = this.slides[this.index]; //いまのMorphingImage
            var after = this.slides[afterIndex]; //モーフィング後のMorphingImage

            //アニメーションするスライドだけ描画する
            before.show();
            after.show();

            this.stage.setChildIndex(after.container, this.stage.children.length - 1); //afterを最前面に

            var update = (function () {
                var t = new Date() - startTime;
                if (t > this.duration) {
                    //window.cancelAnimationFrame(af);
                    before.hide();
                    this.index = afterIndex;
                    this.isAnimating = false;
                    if (callback) {
                        callback.bind(this)();
                    }
                } else {
                    var e = MorphingSlider.ease[this.transformEasing](t / this.duration);
                    before.points.forEach(function (point, index) {
                        before.points[index].x = Math.round(after.originalPoints[index].x * e + before.originalPoints[index].x * (1 - e));
                        before.points[index].y = Math.round(after.originalPoints[index].y * e + before.originalPoints[index].y * (1 - e));
                        after.points[index].x = Math.round(before.originalPoints[index].x * (1 - e) + after.originalPoints[index].x * e);
                        after.points[index].y = Math.round(before.originalPoints[index].y * (1 - e) + after.originalPoints[index].y * e);
                    });

                    e = MorphingSlider.ease[this.alphaEasing](t / this.duration);

                    after.setAlpha(e);
                    before.update();
                    after.update();
                    this.stage.update();

                    window.requestAnimationFrame(update);
                }
            }).bind(this);
            var af = window.requestAnimationFrame(update);

            this.isAnimating = true;
            return this;
        }
    }, {
        key: "play",
        value: function play(direction, interval, callback) {
            var _this2 = this;

            //続けてモーフィング direction: true=>前へ false=>後へ, interval: モーフィング間隔
            var _direction = direction === undefined ? this.direction : direction;
            var _interval = interval === undefined ? this.interval : interval;
            var _callback = callback === undefined ? function () {
                return null;
            } : callback;
            this.timer = setInterval(function () {
                _this2.morph.bind(_this2)(_direction, callback);
            }, _interval + this.duration);
        }
    }, {
        key: "stop",
        value: function stop() {
            clearInterval(this.timer);
        }
    }, {
        key: "clear",
        value: function clear() {
            this.slides = [];
            this.stage.clear();
            this.index = 0;
            this.stage.removeAllChildren();
            return this;
        }
    }]);

    return MorphingSlider;
})();

MorphingSlider.Slide = (function () {
    function Slide(image, points, faces) {
        _classCallCheck(this, Slide);

        this.domElement = image;

        this.originalPoints = points;

        this.points = []; //描画する際の動的な座標
        this._clonePoints();

        this.faces = faces;

        this.container = new createjs.Container();

        this._addBitmaps();
        //this.container.children = this.container.children.concat(this.container.children);

        return this;
    }

    _createClass(Slide, [{
        key: "_clonePoints",
        value: function _clonePoints() {
            var _this3 = this;

            this.originalPoints.forEach(function (point, index) {
                //対応する座標を保持する
                _this3.points[index] = { x: point.x, y: point.y };
            });
        }
    }, {
        key: "_addBitmaps",
        value: function _addBitmaps() {
            var _this4 = this;

            //シェイプの作成
            if (window.navigator.userAgent.toLowerCase().indexOf("chrome") < 0) {
                this.faces.forEach(function (face) {
                    var bmp = new createjs.Bitmap(_this4.domElement);
                    var shape = new createjs.Shape();

                    //Chrome以外のブラウザだとメッシュのすき間が見えてしまうのを改善する
                    var n = 1.01; //拡大率
                    var g = {
                        x: (_this4.points[face[0]].x + _this4.points[face[1]].x + _this4.points[face[2]].x) / 3,
                        y: (_this4.points[face[0]].y + _this4.points[face[1]].y + _this4.points[face[2]].y) / 3
                    }; //重心
                    var d = { x: g.x * (n - 1), y: g.y * (n - 1) }; //座標のずれ

                    shape.graphics.moveTo(_this4.points[face[0]].x * n - d.x, _this4.points[face[0]].y * n - d.y).lineTo(_this4.points[face[1]].x * n - d.x, _this4.points[face[1]].y * n - d.y).lineTo(_this4.points[face[2]].x * n - d.x, _this4.points[face[2]].y * n - d.y);
                    bmp.mask = shape;
                    _this4.container.addChild(bmp);
                });
            } else {
                console.log("chrome");
                this.faces.forEach(function (face) {
                    var bmp = new createjs.Bitmap(_this4.domElement);
                    var shape = new createjs.Shape();
                    shape.graphics.moveTo(_this4.points[face[0]].x, _this4.points[face[0]].y).lineTo(_this4.points[face[1]].x, _this4.points[face[1]].y).lineTo(_this4.points[face[2]].x, _this4.points[face[2]].y);
                    bmp.mask = shape;
                    _this4.container.addChild(bmp);
                });
            }
        }
    }, {
        key: "setAlpha",
        value: function setAlpha(a) {
            this.container.alpha = a;
            return this;
        }
    }, {
        key: "show",
        value: function show() {
            this.container.visible = true;
            return this;
        }
    }, {
        key: "hide",
        value: function hide() {
            this.container.visible = false;
            return this;
        }
    }, {
        key: "update",
        value: function update() {
            var _this5 = this;

            //アフィン変換行列を求め、パーツを描画
            this.faces.forEach(function (face, index) {
                var points1 = [_this5.originalPoints[face[0]], _this5.originalPoints[face[1]], _this5.originalPoints[face[2]]];
                var points2 = [_this5.points[face[0]], _this5.points[face[1]], _this5.points[face[2]]];
                var matrix = _this5._getAffineTransform(points1, points2);
                _this5.container.children[index].transformMatrix = _this5.container.children[index].mask.transformMatrix = matrix;
            });
            return this;
        }
    }, {
        key: "_getAffineTransform",
        value: function _getAffineTransform(points1, points2) {
            var a, b, c, d, tx, ty;

            // 連立方程式を解く
            a = (points2[0].x * points1[1].y + points2[1].x * points1[2].y + points2[2].x * points1[0].y - points2[0].x * points1[2].y - points2[1].x * points1[0].y - points2[2].x * points1[1].y) / (points1[0].x * points1[1].y + points1[1].x * points1[2].y + points1[2].x * points1[0].y - points1[0].x * points1[2].y - points1[1].x * points1[0].y - points1[2].x * points1[1].y);
            b = (points2[0].y * points1[1].y + points2[1].y * points1[2].y + points2[2].y * points1[0].y - points2[0].y * points1[2].y - points2[1].y * points1[0].y - points2[2].y * points1[1].y) / (points1[0].x * points1[1].y + points1[1].x * points1[2].y + points1[2].x * points1[0].y - points1[0].x * points1[2].y - points1[1].x * points1[0].y - points1[2].x * points1[1].y);
            c = (points1[0].x * points2[1].x + points1[1].x * points2[2].x + points1[2].x * points2[0].x - points1[0].x * points2[2].x - points1[1].x * points2[0].x - points1[2].x * points2[1].x) / (points1[0].x * points1[1].y + points1[1].x * points1[2].y + points1[2].x * points1[0].y - points1[0].x * points1[2].y - points1[1].x * points1[0].y - points1[2].x * points1[1].y);
            d = (points1[0].x * points2[1].y + points1[1].x * points2[2].y + points1[2].x * points2[0].y - points1[0].x * points2[2].y - points1[1].x * points2[0].y - points1[2].x * points2[1].y) / (points1[0].x * points1[1].y + points1[1].x * points1[2].y + points1[2].x * points1[0].y - points1[0].x * points1[2].y - points1[1].x * points1[0].y - points1[2].x * points1[1].y);
            tx = (points1[0].x * points1[1].y * points2[2].x + points1[1].x * points1[2].y * points2[0].x + points1[2].x * points1[0].y * points2[1].x - points1[0].x * points1[2].y * points2[1].x - points1[1].x * points1[0].y * points2[2].x - points1[2].x * points1[1].y * points2[0].x) / (points1[0].x * points1[1].y + points1[1].x * points1[2].y + points1[2].x * points1[0].y - points1[0].x * points1[2].y - points1[1].x * points1[0].y - points1[2].x * points1[1].y);
            ty = (points1[0].x * points1[1].y * points2[2].y + points1[1].x * points1[2].y * points2[0].y + points1[2].x * points1[0].y * points2[1].y - points1[0].x * points1[2].y * points2[1].y - points1[1].x * points1[0].y * points2[2].y - points1[2].x * points1[1].y * points2[0].y) / (points1[0].x * points1[1].y + points1[1].x * points1[2].y + points1[2].x * points1[0].y - points1[0].x * points1[2].y - points1[1].x * points1[0].y - points1[2].x * points1[1].y);

            return new createjs.Matrix2D(a, b, c, d, tx, ty);
        }
    }]);

    return Slide;
})();

MorphingSlider.ease = {
    // no easing, no acceleration
    linear: function linear(t) {
        return t;
    },
    // accelerating from zero velocity
    easeInQuad: function easeInQuad(t) {
        return t * t;
    },
    // decelerating to zero velocity
    easeOutQuad: function easeOutQuad(t) {
        return t * (2 - t);
    },
    // acceleration until halfway, then deceleration
    easeInOutQuad: function easeInOutQuad(t) {
        return t < 0.5 ? 2 * t * t : -1 + (4 - 2 * t) * t;
    },
    // accelerating from zero velocity
    easeInCubic: function easeInCubic(t) {
        return t * t * t;
    },
    // decelerating to zero velocity
    easeOutCubic: function easeOutCubic(t) {
        return --t * t * t + 1;
    },
    // acceleration until halfway, then deceleration
    easeInOutCubic: function easeInOutCubic(t) {
        return t < 0.5 ? 4 * t * t * t : (t - 1) * (2 * t - 2) * (2 * t - 2) + 1;
    },
    // accelerating from zero velocity
    easeInQuart: function easeInQuart(t) {
        return t * t * t * t;
    },
    // decelerating to zero velocity
    easeOutQuart: function easeOutQuart(t) {
        return 1 - --t * t * t * t;
    },
    // acceleration until halfway, then deceleration
    easeInOutQuart: function easeInOutQuart(t) {
        return t < 0.5 ? 8 * t * t * t * t : 1 - 8 * --t * t * t * t;
    },
    // accelerating from zero velocity
    easeInQuint: function easeInQuint(t) {
        return t * t * t * t * t;
    },
    // decelerating to zero velocity
    easeOutQuint: function easeOutQuint(t) {
        return 1 + --t * t * t * t * t;
    },
    // acceleration until halfway, then deceleration
    easeInOutQuint: function easeInOutQuint(t) {
        return t < 0.5 ? 16 * t * t * t * t * t : 1 + 16 * --t * t * t * t * t;
    }
};

exports["default"] = MorphingSlider;
module.exports = exports["default"];

},{}]},{},[1])
//# sourceMappingURL=data:application/json;charset:utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIm5vZGVfbW9kdWxlcy9icm93c2VyaWZ5L25vZGVfbW9kdWxlcy9icm93c2VyLXBhY2svX3ByZWx1ZGUuanMiLCIvVXNlcnMveWFtYW1vdG9ub2Rva2EvRGVza3RvcC9pbWFnZS1tb3JwaGluZy9zcmMvanMvTW9ycGhpbmdTbGlkZXIuanMiXSwibmFtZXMiOltdLCJtYXBwaW5ncyI6IkFBQUE7Ozs7Ozs7Ozs7O0lDQU0sY0FBYztBQUNMLGFBRFQsY0FBYyxDQUNKLFFBQVEsRUFBRTs4QkFEcEIsY0FBYzs7QUFFWixZQUFJLENBQUMsS0FBSyxHQUFHLElBQUksUUFBUSxDQUFDLEtBQUssQ0FBQyxRQUFRLENBQUMsQ0FBQztBQUMxQyxZQUFJLENBQUMsTUFBTSxHQUFHLEVBQUUsQ0FBQztBQUNqQixZQUFJLENBQUMsZUFBZSxHQUFHLElBQUksQ0FBQyxXQUFXLEdBQUcsUUFBUSxDQUFDO0FBQ25ELFlBQUksQ0FBQyxTQUFTLEdBQUcsSUFBSSxDQUFDO0FBQ3RCLFlBQUksQ0FBQyxRQUFRLEdBQUcsR0FBRyxDQUFDO0FBQ3BCLFlBQUksQ0FBQyxRQUFRLEdBQUcsSUFBSSxDQUFDO0FBQ3JCLFlBQUksQ0FBQyxXQUFXLEdBQUcsS0FBSyxDQUFDO0FBQ3pCLFlBQUksQ0FBQyxLQUFLLEdBQUcsQ0FBQyxDQUFDO0FBQ2YsWUFBSSxDQUFDLEtBQUssR0FBRyxDQUFDLENBQUM7QUFDZixZQUFJLENBQUMsTUFBTSxHQUFHLENBQUMsQ0FBQzs7QUFFaEIsY0FBTSxDQUFDLHFCQUFxQixHQUFJLENBQUEsWUFBVztBQUN2QyxtQkFBTyxNQUFNLENBQUMscUJBQXFCLElBQy9CLE1BQU0sQ0FBQywyQkFBMkIsSUFDbEMsTUFBTSxDQUFDLHdCQUF3QixJQUMvQixNQUFNLENBQUMsdUJBQXVCLElBQzlCLE1BQU0sQ0FBQyxzQkFBc0IsSUFDN0IsVUFBUyxDQUFDLEVBQUU7QUFBRSx1QkFBTyxNQUFNLENBQUMsVUFBVSxDQUFDLENBQUMsRUFBRSxJQUFJLEdBQUcsRUFBRSxDQUFD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cEMsOEJBQU0sQ0FBQyxNQUFNLENBQUMsS0FBSyxDQUFDLENBQUMsQ0FBQyxHQUFHLElBQUksQ0FBQyxLQUFLLENBQUMsS0FBSyxDQUFDLGNBQWMsQ0FBQyxLQUFLLENBQUMsQ0FBQyxDQUFDLEdBQUcsQ0FBQyxHQUFHLE1BQU0sQ0FBQyxjQUFjLENBQUMsS0FBSyxDQUFDLENBQUMsQ0FBQyxJQUFJLENBQUMsR0FBRyxDQUFDLENBQUEsQUFBQyxDQUFDLENBQUM7QUFDbEgsOEJBQU0sQ0FBQyxNQUFNLENBQUMsS0FBSyxDQUFDLENBQUMsQ0FBQyxHQUFHLElBQUksQ0FBQyxLQUFLLENBQUMsS0FBSyxDQUFDLGNBQWMsQ0FBQyxLQUFLLENBQUMsQ0FBQyxDQUFDLEdBQUcsQ0FBQyxHQUFHLE1BQU0sQ0FBQyxjQUFjLENBQUMsS0FBSyxDQUFDLENBQUMsQ0FBQyxJQUFJLENBQUMsR0FBRyxDQUFDLENBQUEsQUFBQyxDQUFDLENBQUM7QUFDbEgsNkJBQUssQ0FBQyxNQUFNLENBQUMsS0FBSyxDQUFDLENBQUMsQ0FBQyxHQUFHLElBQUksQ0FBQyxLQUFLLENBQUMsTUFBTSxDQUFDLGNBQWMsQ0FBQyxLQUFLLENBQUMsQ0FBQyxDQUFDLElBQUksQ0FBQyxHQUFHLENBQUMsQ0FBQSxBQUFDLEdBQUcsS0FBSyxDQUFDLGNBQWMsQ0FBQyxLQUFLLENBQUMsQ0FBQyxDQUFDLEdBQUcsQ0FBQyxDQUFDLENBQUM7QUFDakgsNkJBQUssQ0FBQyxNQUFNLENBQUMsS0FBSyxDQUFDLENBQUMsQ0FBQyxHQUFHLElBQUksQ0FBQyxLQUFLLENBQUMsTUFBTSxDQUFDLGNBQWMsQ0FBQyxLQUFLLENBQUMsQ0FBQyxDQUFDLElBQUksQ0FBQyxHQUFHLENBQUMsQ0FBQSxBQUFDLEdBQUcsS0FBSyxDQUFDLGNBQWMsQ0FBQyxLQUFLLENBQUMsQ0FBQyxDQUFDLEdBQUcsQ0FBQyxDQUFDLENBQUM7cUJBQ3BILENBQUMsQ0FBQzs7QUFFSCxxQkFBQyxHQUFHLGNBQWMsQ0FBQyxJQUFJLENBQUMsSUFBSSxDQUFDLFdBQVcsQ0FBQyxD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LENBQUMsQ0FBQyxDQUFDLENBQUMsR0FBRyxPQUFPLENBQUMsQ0FBQyxDQUFDLENBQUMsQ0FBQyxHQUFHLE9BQU8sQ0FBQyxDQUFDLENBQUMsQ0FBQyxDQUFDLENBQUEsSUFBSyxPQUFPLENBQUMsQ0FBQyxDQUFDLENBQUMsQ0FBQyxHQUFHLE9BQU8sQ0FBQyxDQUFDLENBQUMsQ0FBQyxDQUFDLEdBQUcsT0FBTyxDQUFDLENBQUMsQ0FBQyxDQUFDLENBQUMsR0FBRyxPQUFPLENBQUMsQ0FBQyxDQUFDLENBQUMsQ0FBQyxHQUFHLE9BQU8sQ0FBQyxDQUFDLENBQUMsQ0FBQyxDQUFDLEdBQUcsT0FBTyxDQUFDLENBQUMsQ0FBQyxDQUFDLENBQUMsR0FBRyxPQUFPLENBQUMsQ0FBQyxDQUFDLENBQUMsQ0FBQyxHQUFHLE9BQU8sQ0FBQyxDQUFDLENBQUMsQ0FBQyxDQUFDLEdBQUcsT0FBTyxDQUFDLENBQUMsQ0FBQyxDQUFDLENBQUMsR0FBRyxPQUFPLENBQUMsQ0FBQyxDQUFDLENBQUMsQ0FBQyxHQUFHLE9BQU8sQ0FBQyxDQUFDLENBQUMsQ0FBQyxDQUFDLEdBQUcsT0FBTyxDQUFDLENBQUMsQ0FBQyxDQUFDLENBQUMsQ0FBQSxBQUFDLENBQUM7QUFDOVcsYUFBQyxHQUFHLENBQUMsT0FBTyxDQUFDLENBQUMsQ0FBQyxDQUFDLENBQUMsR0FBRyxPQUFPLENBQUMsQ0FBQyxDQUFDLENBQUMsQ0FBQyxHQUFHLE9BQU8sQ0FBQyxDQUFDLENBQUMsQ0FBQyxDQUFDLEdBQUcsT0FBTyxDQUFDLENBQUMsQ0FBQyxDQUFDLENBQUMsR0FBRyxPQUFPLENBQUMsQ0FBQyxDQUFDLENBQUMsQ0FBQyxHQUFHLE9BQU8sQ0FBQyxDQUFDLENBQUMsQ0FBQyxDQUFDLEdBQUcsT0FBTyxDQUFDLENBQUMsQ0FBQyxDQUFDLENBQUMsR0FBRyxPQUFPLENBQUMsQ0FBQyxDQUFDLENBQUMsQ0FBQyxHQUFHLE9BQU8sQ0FBQyxDQUFDLENBQUMsQ0FBQyxDQUFDLEdBQUcsT0FBTyxDQUFDLENBQUMsQ0FBQyxDQUFDLENBQUMsR0FBRyxPQUFPLENBQUMsQ0FBQyxDQUFDLENBQUMsQ0FBQyxHQUFHLE9BQU8sQ0FBQyxDQUFDLENBQUMsQ0FBQyxDQUFDLENBQUEsSUFBSyxPQUFPLENBQUMsQ0FBQyxDQUFDLENBQUMsQ0FBQyxHQUFHLE9BQU8sQ0FBQyxDQUFDLENBQUMsQ0FBQyxDQUFDLEdBQUcsT0FBTyxDQUFDLENBQUMsQ0FBQyxDQUFDLENBQUMsR0FBRyxPQUFPLENBQUMsQ0FBQyxDQUFDLENBQUMsQ0FBQyxHQUFHLE9BQU8sQ0FBQyxDQUFDLENBQUMsQ0FBQyxDQUFDLEdBQUcsT0FBTyxDQUFDLENBQUMsQ0FBQyxDQUFDLENBQUMsR0FBRyxPQUFPLENBQUMsQ0FBQyxDQUFDLENBQUMsQ0FBQyxHQUFHLE9BQU8sQ0FBQyxDQUFDLENBQUMsQ0FBQyxDQUFDLEdBQUcsT0FBTyxDQUFDLENBQUMsQ0FBQyxDQUFDLENBQUMsR0FBRyxPQUFPLENBQUMsQ0FBQyxDQUFDLENBQUMsQ0FBQyxHQUFHLE9BQU8sQ0FBQyxDQUFDLENBQUMsQ0FBQyxDQUFDLEdBQUcsT0FBTyxDQUFDLENBQUMsQ0FBQyxDQUFDLENBQUMsQ0FBQSxBQUFDLENBQUM7QUFDOVcsYUFBQyxHQUFHLENBQUMsT0FBTyxDQUFDLENBQUMsQ0FBQyxDQUFDLENBQUMsR0FBRyxPQUFPLENBQUMsQ0FBQyxDQUFDLENBQUMsQ0FBQyxHQUFHLE9BQU8sQ0FBQyxDQUFDLENBQUMsQ0FBQyxDQUFDLEdBQUcsT0FBTyxDQUFDLENBQUMsQ0FBQyxDQUFDLENBQUMsR0FBRyxPQUFPLENBQUMsQ0FBQyxDQUFDLENBQUMsQ0FBQyxHQUFHLE9BQU8sQ0FBQyxDQUFDLENBQUMsQ0FBQyxDQUFDLEdBQUcsT0FBTyxDQUFDLENBQUMsQ0FBQyxDQUFDLENBQUMsR0FBRyxPQUFPLENBQUMsQ0FBQyxDQUFDLENBQUMsQ0FBQyxHQUFHLE9BQU8sQ0FBQyxDQUFDLENBQUMsQ0FBQyxDQUFDLEdBQUcsT0FBTyxDQUFDLENBQUMsQ0FBQyxDQUFDLENBQUMsR0FBRyxPQUFPLENBQUMsQ0FBQyxDQUFDLENBQUMsQ0FBQyxHQUFHLE9BQU8sQ0FBQyxDQUFDLENBQUMsQ0FBQyxDQUFDLENBQUEsSUFBSyxPQUFPLENBQUMsQ0FBQyxDQUFDLENBQUMsQ0FBQyxHQUFHLE9BQU8sQ0FBQyxDQUFDLENBQUMsQ0FBQyxDQUFDLEdBQUcsT0FBTyxDQUFDLENBQUMsQ0FBQyxDQUFDLENBQUMsR0FBRyxPQUFPLENBQUMsQ0FBQyxDQUFDLENBQUMsQ0FBQyxHQUFHLE9BQU8sQ0FBQyxDQUFDLENBQUMsQ0FBQyxDQUFDLEdBQUcsT0FBTyxDQUFDLENBQUMsQ0FBQyxDQUFDLENBQUMsR0FBRyxPQUFPLENBQUMsQ0FBQyxDQUFDLENBQUMsQ0FBQyxHQUFHLE9BQU8sQ0FBQyxDQUFDLENBQUMsQ0FBQyxDQUFDLEdBQUcsT0FBTyxDQUFDLENBQUMsQ0FBQyxDQUFDLENBQUMsR0FBRyxPQUFPLENBQUMsQ0FBQyxDQUFDLENBQUMsQ0FBQyxHQUFHLE9BQU8sQ0FBQyxDQUFDLENBQUMsQ0FBQyxDQUFDLEdBQUcsT0FBTyxDQUFDLENBQUMsQ0FBQyxDQUFDLENBQUMsQ0FBQSxBQUFDLENBQUM7QUFDOVcsYUFBQyxHQUFHLENBQUMsT0FBTyxDQUFDLENBQUMsQ0FBQyxDQUFDLENBQUMsR0FBRyxPQUFPLENBQUMsQ0FBQyxDQUFDLENBQUMsQ0FBQyxHQUFHLE9BQU8sQ0FBQyxDQUFDLENBQUMsQ0FBQyxDQUFDLEdBQUcsT0FBTyxDQUFDLENBQUMsQ0FBQyxDQUFDLENBQUMsR0FBRyxPQUFPLENBQUMsQ0FBQyxDQUFDLENBQUMsQ0FBQyxHQUFHLE9BQU8sQ0FBQyxDQUFDLENBQUMsQ0FBQyxDQUFDLEdBQUcsT0FBTyxDQUFDLENBQUMsQ0FBQyxDQUFDLENBQUMsR0FBRyxPQUFPLENBQUMsQ0FBQyxDQUFDLENBQUMsQ0FBQyxHQUFHLE9BQU8sQ0FBQyxDQUFDLENBQUMsQ0FBQyxDQUFDLEdBQUcsT0FBTyxDQUFDLENBQUMsQ0FBQyxDQUFDLENBQUMsR0FBRyxPQUFPLENBQUMsQ0FBQyxDQUFDLENBQUMsQ0FBQyxHQUFHLE9BQU8sQ0FBQyxDQUFDLENBQUMsQ0FBQyxDQUFDLENBQUEsSUFBSyxPQUFPLENBQUMsQ0FBQyxDQUFDLENBQUMsQ0FBQyxHQUFHLE9BQU8sQ0FBQyxDQUFDLENBQUMsQ0FBQyxDQUFDLEdBQUcsT0FBTyxDQUFDLENBQUMsQ0FBQyxDQUFDLENBQUMsR0FBRyxPQUFPLENBQUMsQ0FBQyxDQUFDLENBQUMsQ0FBQyxHQUFHLE9BQU8sQ0FBQyxDQUFDLENBQUMsQ0FBQyxDQUFDLEdBQUcsT0FBTyxDQUFDLENBQUMsQ0FBQyxDQUFDLENBQUMsR0FBRyxPQUFPLENBQUMsQ0FBQyxDQUFDLENBQUMsQ0FBQyxHQUFHLE9BQU8sQ0FBQyxDQUFDLENBQUMsQ0FBQyxDQUFDLEdBQUcsT0FBTyxDQUFDLENBQUMsQ0FBQyxDQUFDLENBQUMsR0FBRyxPQUFPLENBQUMsQ0FBQyxDQUFDLENBQUMsQ0FBQyxHQUFHLE9BQU8sQ0FBQyxDQUFDLENBQUMsQ0FBQyxDQUFDLEdBQUcsT0FBTyxDQUFDLENBQUMsQ0FBQyxDQUFDLENBQUMsQ0FBQSxBQUFDLENBQUM7QUFDOVcsY0FBRSxHQUFHLENBQUMsT0FBTyxDQUFDLENBQUMsQ0FBQyxDQUFDLENBQUMsR0FBRyxPQUFPLENBQUMsQ0FBQyxDQUFDLENBQUMsQ0FBQyxHQUFHLE9BQU8sQ0FBQyxDQUFDLENBQUMsQ0FBQyxDQUFDLEdBQUcsT0FBTyxDQUFDLENBQUMsQ0FBQyxDQUFDLENBQUMsR0FBRyxPQUFPLENBQUMsQ0FBQyxDQUFDLENBQUMsQ0FBQyxHQUFHLE9BQU8sQ0FBQyxDQUFDLENBQUMsQ0FBQyxDQUFDLEdBQUcsT0FBTyxDQUFDLENBQUMsQ0FBQyxDQUFDLENBQUMsR0FBRyxPQUFPLENBQUMsQ0FBQyxDQUFDLENBQUMsQ0FBQyxHQUFHLE9BQU8sQ0FBQyxDQUFDLENBQUMsQ0FBQyxDQUFDLEdBQUcsT0FBTyxDQUFDLENBQUMsQ0FBQyxDQUFDLENBQUMsR0FBRyxPQUFPLENBQUMsQ0FBQyxDQUFDLENBQUMsQ0FBQyxHQUFHLE9BQU8sQ0FBQyxDQUFDLENBQUMsQ0FBQyxDQUFDLEdBQUcsT0FBTyxDQUFDLENBQUMsQ0FBQyxDQUFDLENBQUMsR0FBRyxPQUFPLENBQUMsQ0FBQyxDQUFDLENBQUMsQ0FBQyxHQUFHLE9BQU8sQ0FBQyxDQUFDLENBQUMsQ0FBQyxDQUFDLEdBQUcsT0FBTyxDQUFDLENBQUMsQ0FBQyxDQUFDLENBQUMsR0FBRyxPQUFPLENBQUMsQ0FBQyxDQUFDLENBQUMsQ0FBQyxHQUFHLE9BQU8sQ0FBQyxDQUFDLENBQUMsQ0FBQyxDQUFDLENBQUEsSUFBSyxPQUFPLENBQUMsQ0FBQyxDQUFDLENBQUMsQ0FBQyxHQUFHLE9BQU8sQ0FBQyxDQUFDLENBQUMsQ0FBQyxDQUFDLEdBQUcsT0FBTyxDQUFDLENBQUMsQ0FBQyxDQUFDLENBQUMsR0FBRyxPQUFPLENBQUMsQ0FBQyxDQUFDLENBQUMsQ0FBQyxHQUFHLE9BQU8sQ0FBQyxDQUFDLENBQUMsQ0FBQyxDQUFDLEdBQUcsT0FBTyxDQUFDLENBQUMsQ0FBQyxDQUFDLENBQUMsR0FBRyxPQUFPLENBQUMsQ0FBQyxDQUFDLENBQUMsQ0FBQyxHQUFHLE9BQU8sQ0FBQyxDQUFDLENBQUMsQ0FBQyxDQUFDLEdBQUcsT0FBTyxDQUFDLENBQUMsQ0FBQyxDQUFDLENBQUMsR0FBRyxPQUFPLENBQUMsQ0FBQyxDQUFDLENBQUMsQ0FBQyxHQUFHLE9BQU8sQ0FBQyxDQUFDLENBQUMsQ0FBQyxDQUFDLEdBQUcsT0FBTyxDQUFDLENBQUMsQ0FBQyxDQUFDLENBQUMsQ0FBQSxBQUFDLENBQUM7QUFDemMsY0FBRSxHQUFHLENBQUMsT0FBTyxDQUFDLENBQUMsQ0FBQyxDQUFDLENBQUMsR0FBRyxPQUFPLENBQUMsQ0FBQyxDQUFDLENBQUMsQ0FBQyxHQUFHLE9BQU8sQ0FBQyxDQUFDLENBQUMsQ0FBQyxDQUFDLEdBQUcsT0FBTyxDQUFDLENBQUMsQ0FBQyxDQUFDLENBQUMsR0FBRyxPQUFPLENBQUMsQ0FBQyxDQUFDLENBQUMsQ0FBQyxHQUFHLE9BQU8sQ0FBQyxDQUFDLENBQUMsQ0FBQyxDQUFDLEdBQUcsT0FBTyxDQUFDLENBQUMsQ0FBQyxDQUFDLENBQUMsR0FBRyxPQUFPLENBQUMsQ0FBQyxDQUFDLENBQUMsQ0FBQyxHQUFHLE9BQU8sQ0FBQyxDQUFDLENBQUMsQ0FBQyxDQUFDLEdBQUcsT0FBTyxDQUFDLENBQUMsQ0FBQyxDQUFDLENBQUMsR0FBRyxPQUFPLENBQUMsQ0FBQyxDQUFDLENBQUMsQ0FBQyxHQUFHLE9BQU8sQ0FBQyxDQUFDLENBQUMsQ0FBQyxDQUFDLEdBQUcsT0FBTyxDQUFDLENBQUMsQ0FBQyxDQUFDLENBQUMsR0FBRyxPQUFPLENBQUMsQ0FBQyxDQUFDLENBQUMsQ0FBQyxHQUFHLE9BQU8sQ0FBQyxDQUFDLENBQUMsQ0FBQyxDQUFDLEdBQUcsT0FBTyxDQUFDLENBQUMsQ0FBQyxDQUFDLENBQUMsR0FBRyxPQUFPLENBQUMsQ0FBQyxDQUFDLENBQUMsQ0FBQyxHQUFHLE9BQU8sQ0FBQyxDQUFDLENBQUMsQ0FBQyxDQUFDLENBQUEsSUFBSyxPQUFPLENBQUMsQ0FBQyxDQUFDLENBQUMsQ0FBQyxHQUFHLE9BQU8sQ0FBQyxDQUFDLENBQUMsQ0FBQyxDQUFDLEdBQUcsT0FBTyxDQUFDLENBQUMsQ0FBQyxDQUFDLENBQUMsR0FBRyxPQUFPLENBQUMsQ0FBQyxDQUFDLENBQUMsQ0FBQyxHQUFHLE9BQU8sQ0FBQyxDQUFDLENBQUMsQ0FBQyxDQUFDLEdBQUcsT0FBTyxDQUFDLENBQUMsQ0FBQyxDQUFDLENBQUMsR0FBRyxPQUFPLENBQUMsQ0FBQyxDQUFDLENBQUMsQ0FBQyxHQUFHLE9BQU8sQ0FBQyxDQUFDLENBQUMsQ0FBQyxDQUFDLEdBQUcsT0FBTyxDQUFDLENBQUMsQ0FBQyxDQUFDLENBQUMsR0FBRyxPQUFPLENBQUMsQ0FBQyxDQUFDLENBQUMsQ0FBQyxHQUFHLE9BQU8sQ0FBQyxDQUFDLENBQUMsQ0FBQyxDQUFDLEdBQUcsT0FBTyxDQUFDLENBQUMsQ0FBQyxDQUFDLENBQUMsQ0FBQSxBQUFDLENBQUM7O0FBRXpjLG1CQUFPLElBQUksUUFBUSxDQUFDLFFBQVEsQ0FBQyxDQUFDLEVBQUUsQ0FBQyxFQUFFLENBQUMsRUFBRSxDQUFDLEVBQUUsRUFBRSxFQUFFLEVBQUUsQ0FBQyxDQUFDO1NBQ3BEOzs7V0ExRndCLEtBQUs7SUEyRmpDLENBQUE7O0FBRUQsY0FBYyxDQUFDLElBQUksR0FBRzs7QUFFbEIsVUFBTSxFQUFFLGdCQUFVLENBQUMsRUFBRTtBQUFFLGVBQU8sQ0FBQyxDQUFBO0tBQUU7O0FBRWpDLGNBQVUsRUFBRSxvQkFBVSxDQUFDLEVBQUU7QUFBRSxlQUFPLENBQUMsR0FBQyxDQUFDLENBQUE7S0FBRTs7QUFFdkMsZUFBVyxFQUFFLHFCQUFVLENBQUMsRUFBRTtBQUFFLGVBQU8sQ0FBQyxJQUFFLENBQUMsR0FBQyxDQUFDLENBQUEsQUFBQyxDQUFBO0tBQUU7O0FBRTVDLGlCQUFhLEVBQUUsdUJBQVUsQ0FBQyxFQUFFO0FBQUUsZUFBTyxDQUFDLEdBQUMsR0FBRSxHQUFHLENBQUMsR0FBQyxDQUFDLEdBQUMsQ0FBQyxHQUFHLENBQUMsQ0FBQyxHQUFDLENBQUMsQ0FBQyxHQUFDLENBQUMsR0FBQyxDQUFDLENBQUEsR0FBRSxDQUFDLENBQUE7S0FBRTs7QUFFbEUsZUFBVyxFQUFFLHFCQUFVLENBQUMsRUFBRTtBQUFFLGVBQU8sQ0FBQyxHQUFDLENBQUMsR0FBQyxDQUFDLENBQUE7S0FBRTs7QUFFMUMsZ0JBQVksRUFBRSxzQkFBVSxDQUFDLEVBQUU7QUFBRSxlQUFPLEFBQUMsRUFBRSxDQUFDLEdBQUUsQ0FBQyxHQUFDLENBQUMsR0FBQyxDQUFDLENBQUE7S0FBRTs7QUFFakQsa0JBQWMsRUFBRSx3QkFBVSxDQUFDLEVBQUU7QUFBRSxlQUFPLENBQUMsR0FBQyxHQUFFLEdBQUcsQ0FBQyxHQUFDLENBQUMsR0FBQyxDQUFDLEdBQUMsQ0FBQyxHQUFHLENBQUMsQ0FBQyxHQUFDLENBQUMsQ0FBQSxJQUFHLENBQUMsR0FBQyxDQUFDLEdBQUMsQ0FBQyxDQUFBLEFBQUMsSUFBRSxDQUFDLEdBQUMsQ0FBQyxHQUFDLENBQUMsQ0FBQSxBQUFDLEdBQUMsQ0FBQyxDQUFBO0tBQUU7O0FBRWhGLGVBQVcsRUFBRSxxQkFBVSxDQUFDLEVBQUU7QUFBRSxlQUFPLENBQUMsR0FBQyxDQUFDLEdBQUMsQ0FBQyxHQUFDLENBQUMsQ0FBQTtLQUFFOztBQUU1QyxnQkFBWSxFQUFFLHNCQUFVLENBQUMsRUFBRTtBQUFFLGVBQU8sQ0FBQyxHQUFDLEFBQUMsRUFBRSxDQUFDLEdBQUUsQ0FBQyxHQUFDLENBQUMsR0FBQyxDQUFDLENBQUE7S0FBRTs7QUFFbkQsa0JBQWMsRUFBRSx3QkFBVSxDQUFDLEVBQUU7QUFBRSxlQUFPLENBQUMsR0FBQyxHQUFFLEdBQUcsQ0FBQyxHQUFDLENBQUMsR0FBQyxDQUFDLEdBQUMsQ0FBQyxHQUFDLENBQUMsR0FBRyxDQUFDLEdBQUMsQ0FBQyxHQUFFLEVBQUUsQ0FBQyxBQUFDLEdBQUMsQ0FBQyxHQUFDLENBQUMsR0FBQyxDQUFDLENBQUE7S0FBRTs7QUFFMUUsZUFBVyxFQUFFLHFCQUFVLENBQUMsRUFBRTtBQUFFLGVBQU8sQ0FBQyxHQUFDLENBQUMsR0FBQyxDQUFDLEdBQUMsQ0FBQyxHQUFDLENBQUMsQ0FBQTtLQUFFOztBQUU5QyxnQkFBWSxFQUFFLHNCQUFVLENBQUMsRUFBRTtBQUFFLGVBQU8sQ0FBQyxHQUFDLEFBQUMsRUFBRSxDQUFDLEdBQUUsQ0FBQyxHQUFDLENBQUMsR0FBQyxDQUFDLEdBQUMsQ0FBQyxDQUFBO0tBQUU7O0FBRXJELGtCQUFjLEVBQUUsd0JBQVUsQ0FBQyxFQUFFO0FBQUUsZUFBTyxDQUFDLEdBQUMsR0FBRSxHQUFHLEVBQUUsR0FBQyxDQUFDLEdBQUMsQ0FBQyxHQUFDLENBQUMsR0FBQyxDQUFDLEdBQUMsQ0FBQyxHQUFHLENBQUMsR0FBQyxFQUFFLEdBQUUsRUFBRSxDQUFDLEFBQUMsR0FBQyxDQUFDLEdBQUMsQ0FBQyxHQUFDLENBQUMsR0FBQyxDQUFDLENBQUE7S0FBRTtDQUNuRixDQUFDOztxQkFFYSxjQUFjIiwiZmlsZSI6ImdlbmVyYXRlZC5qcyIsInNvdXJjZVJvb3QiOiIiLCJzb3VyY2VzQ29udGVudCI6WyIoZnVuY3Rpb24gZSh0LG4scil7ZnVuY3Rpb24gcyhvLHUpe2lmKCFuW29dKXtpZighdFtvXSl7dmFyIGE9dHlwZW9mIHJlcXVpcmU9PVwiZnVuY3Rpb25cIiYmcmVxdWlyZTtpZighdSYmYSlyZXR1cm4gYShvLCEwKTtpZihpKXJldHVybiBpKG8sITApO3ZhciBmPW5ldyBFcnJvcihcIkNhbm5vdCBmaW5kIG1vZHVsZSAnXCIrbytcIidcIik7dGhyb3cgZi5jb2RlPVwiTU9EVUxFX05PVF9GT1VORFwiLGZ9dmFyIGw9bltvXT17ZXhwb3J0czp7fX07dFtvXVswXS5jYWxsKGwuZXhwb3J0cyxmdW5jdGlvbihlKXt2YXIgbj10W29dWzFdW2VdO3JldHVybiBzKG4/bjplKX0sbCxsLmV4cG9ydHMsZSx0LG4scil9cmV0dXJuIG5bb10uZXhwb3J0c312YXIgaT10eXBlb2YgcmVxdWlyZT09XCJmdW5jdGlvblwiJiZyZXF1aXJlO2Zvcih2YXIgbz0wO288ci5sZW5ndGg7bysrKXMocltvXSk7cmV0dXJuIHN9KSIsImNsYXNzIE1vcnBoaW5nU2xpZGVyIHtcbiAgICBjb25zdHJ1Y3RvcihzdGFnZVVSTCkge1xuICAgICAgICB0aGlzLnN0YWdlID0gbmV3IGNyZWF0ZWpzLlN0YWdlKHN0YWdlVVJMKTtcbiAgICAgICAgdGhpcy5zbGlkZXMgPSBbXTtcbiAgICAgICAgdGhpcy50cmFuc2Zvcm1FYXNpbmcgPSB0aGlzLmFscGhhRWFzaW5nID0gXCJsaW5lYXJcIjtcbiAgICAgICAgdGhpcy5kaXJlY3Rpb24gPSB0cnVlO1xuICAgICAgICB0aGlzLmR1cmF0aW9uID0gNTAwO1xuICAgICAgICB0aGlzLmludGVydmFsID0gMTAwMDtcbiAgICAgICAgdGhpcy5pc0FuaW1hdGluZyA9IGZhbHNlO1xuICAgICAgICB0aGlzLmluZGV4ID0gMDsvL+ihqOekuuOBl+OBpuOBhOOCi+eUu+WDj+OBrmluZGV4XG4gICAgICAgIHRoaXMud2lkdGggPSAwO1xuICAgICAgICB0aGlzLmhlaWdodCA9IDA7XG5cbiAgICAgICAgd2luZG93LnJlcXVlc3RBbmltYXRpb25GcmFtZSA9IChmdW5jdGlvbigpIHtcbiAgICAgICAgICAgIHJldHVybiB3aW5kb3cucmVxdWVzdEFuaW1hdGlvbkZyYW1lIHx8XG4gICAgICAgICAgICAgICAgd2luZG93LndlYmtpdFJlcXVlc3RBbmltYXRpb25GcmFtZSB8fFxuICAgICAgICAgICAgICAgIHdpbmRvdy5tb3pSZXF1ZXN0QW5pbWF0aW9uRnJhbWUgfHxcbiAgICAgICAgICAgICAgICB3aW5kb3cubXNSZXF1ZXN0QW5pbWF0aW9uRnJhbWUgfHxcbiAgICAgICAgICAgICAgICB3aW5kb3cub1JlcXVlc3RBbmltYXRpb25GcmFtZSB8fFxuICAgICAgICAgICAgICAgIGZ1bmN0aW9uKGYpIHsgcmV0dXJuIHdpbmRvdy5zZXRUaW1lb3V0KGYsIDEwMDAgLyA2MCk7IH07XG4gICAgICAgIH0oKSk7XG5cbiAgICAgICAgd2luZG93LmNhbmNlbEFuaW1hdGlvbkZyYW1lID0gKGZ1bmN0aW9uKCkge1xuICAgICAgICAgICAgcmV0dXJuIHdpbmRvdy5jYW5jZWxBbmltYXRpb25GcmFtZSB8fFxuICAgICAgICAgICAgICAgIHdpbmRvdy5jYW5jZWxSZXF1ZXN0QW5pbWF0aW9uRnJhbWUgfHxcbiAgICAgICAgICAgICAgICB3aW5kb3cud2Via2l0Q2FuY2VsQW5pbWF0aW9uRnJhbWUgfHxcbiAgICAgICAgICAgICAgICB3aW5kb3cud2Via2l0Q2FuY2VsUmVxdWVzdEFuaW1hdGlvbkZyYW1lIHx8XG4gICAgICAgICAgICAgICAgd2luZG93Lm1vekNhbmNlbEFuaW1hdGlvbkZyYW1lIHx8XG4gICAgICAgICAgICAgICAgd2luZG93Lm1vekNhbmNlbFJlcXVlc3RBbmltYXRpb25GcmFtZSB8fFxuICAgICAgICAgICAgICAgIHdpbmRvdy5tc0NhbmNlbEFuaW1hdGlvbkZyYW1lIHx8XG4gICAgICAgICAgICAgICAgd2luZG93Lm1zQ2FuY2VsUmVxdWVzdEFuaW1hdGlvbkZyYW1lIHx8XG4gICAgICAgICAgICAgICAgd2luZG93Lm9DYW5jZWxBbmltYXRpb25GcmFtZSB8fFxuICAgICAgICAgICAgICAgIHdpbmRvdy5vQ2FuY2VsUmVxdWVzdEFuaW1hdGlvbkZyYW1lIHx8XG4gICAgICAgICAgICAgICAgZnVuY3Rpb24oaWQpIHsgd2luZG93LmNsZWFyVGltZW91dChpZCk7IH07XG4gICAgICAgIH0oKSk7XG5cbiAgICAgICAgcmV0dXJuIHRoaXM7XG4gICAgfVxuICAgIGFkZFNsaWRlKHNyYywgZGF0YSwgY2FsbGJhY2spIHtcbiAgICAgICAgdmFyIGltYWdlID0gbmV3IEltYWdlKCk7XG4gICAgICAgIGltYWdlLnNyYyA9IHNyYztcbiAgICAgICAgdmFyIG1vcnBoaW5nSW1hZ2UgPSBuZXcgTW9ycGhpbmdTbGlkZXIuU2xpZGUoaW1hZ2UsIGRhdGEucG9pbnRzLCBkYXRhLmZhY2VzKTtcbiAgICAgICAgaWYgKHRoaXMuc2xpZGVzLmxlbmd0aCA+IDApIHsvL+acgOWIneS7peWkluOBr+aPj+eUu+OBl+OBquOBhFxuICAgICAgICAgICAgbW9ycGhpbmdJbWFnZS5oaWRlKCk7XG4gICAgICAgIH1cbiAgICAgICAgdGhpcy5zdGFnZS5hZGRDaGlsZChtb3JwaGluZ0ltYWdlLmNvbnRhaW5lcik7XG4gICAgICAgIHRoaXMuc2xpZGVzLnB1c2gobW9ycGhpbmdJbWFnZSk7XG4gICAgICAgIGltYWdlLm9ubG9hZCA9ICgpID0+IHtcbiAgICAgICAgICAgIHRoaXMud2lkdGggPSB0aGlzLnN0YWdlLmNhbnZhcy53aWR0aCA9IHRoaXMud2lkdGggPiBpbWFnZS53aWR0aCA/IHRoaXMud2lkdGggOiBpbWFnZS53aWR0aDtcbiAgICAgICAgICAgIHRoaXMuaGVpZ2h0ID0gdGhpcy5zdGFnZS5jYW52YXMuaGVpZ2h0ID0gdGhpcy5oZWlnaHQgPiBpbWFnZS5oZWlnaHQgPyB0aGlzLmhlaWdodCA6IGltYWdlLmhlaWdodDtcbiAgICAgICAgICAgIHRoaXMuc3RhZ2UudXBkYXRlKCk7XG4gICAgICAgICAgICBpZihjYWxsYmFjayE9PXVuZGVmaW5lZCkge1xuICAgICAgICAgICAgICAgIGNhbGxiYWNrLmJpbmQodGhpcykoKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfTtcbiAgICAgICAgcmV0dXJuIHRoaXM7XG4gICAgfVxuICAgIG1vcnBoKGRpcmVjdGlvbiwgY2FsbGJhY2spIHsgLy9kaXJlY3Rpb24gOiB0cnVl44Gn5qyh44CBZmFsc2XjgafliY3jgbhcblxuICAgICAgICBpZih0aGlzLmlzQW5pbWF0aW5nIHx8IHRoaXMuc2xpZGVzLmxlbmd0aDwyKXsgLy/jgqLjg4vjg6Hjg7zjgrfjg6fjg7Pjga7ph43opIfjgpLpmLLjgZBcbiAgICAgICAgICAgIHJldHVybiB0aGlzO1xuICAgICAgICB9XG5cbiAgICAgICAgdmFyIHN0YXJ0VGltZSA9IG5ldyBEYXRlKCk7XG5cbiAgICAgICAgdmFyIF9kaXJlY3Rpb24gPSAoZGlyZWN0aW9uID09PSB1bmRlZmluZWQpID8gdGhpcy5kaXJlY3Rpb24gOiBkaXJlY3Rpb247Ly/jg4fjg5Xjgqnjg6vjg4jjga9Nb3JwaFNsaWRlcuOBp+OBruioreWumuWApFxuXG4gICAgICAgIHZhciBhZnRlckluZGV4O1xuICAgICAgICBpZihfZGlyZWN0aW9uICYmIHRoaXMuc2xpZGVzLmxlbmd0aCA9PT0gdGhpcy5pbmRleCArIDEpIHsvL+WQkeOBjeOBjOmAmuW4uOOBp+OBhOOBvuacgOW+jOOBrueUu+WDj+OBquOCiVxuICAgICAgICAgICAgYWZ0ZXJJbmRleCA9IDA7XG4gICAgICAgIH0gZWxzZSBpZighX2RpcmVjdGlvbiAmJiB0aGlzLmluZGV4ID09PSAwKXsvL+WQkeOBjeOBjOmAhuOBp+OBhOOBvuacgOWIneOBrueUu+WDj+OBquOCiVxuICAgICAgICAgICAgYWZ0ZXJJbmRleCA9IHRoaXMuc2xpZGVzLmxlbmd0aCAtIDE7XG4gICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICBhZnRlckluZGV4ID0gdGhpcy5pbmRleCsoX2RpcmVjdGlvbioyLTEpO1xuICAgICAgICB9XG4gICAgICAgIHZhciBiZWZvcmUgPSB0aGlzLnNsaWRlc1t0aGlzLmluZGV4XTsgLy/jgYTjgb7jga5Nb3JwaGluZ0ltYWdlXG4gICAgICAgIHZhciBhZnRlciA9IHRoaXMuc2xpZGVzW2FmdGVySW5kZXhdOyAvL+ODouODvOODleOCo+ODs+OCsOW+jOOBrk1vcnBoaW5nSW1hZ2VcblxuICAgICAgICAvL+OCouODi+ODoeODvOOCt+ODp+ODs+OBmeOCi+OCueODqeOCpOODieOBoOOBkeaPj+eUu+OBmeOCi1xuICAgICAgICBiZWZvcmUuc2hvdygpO1xuICAgICAgICBhZnRlci5zaG93KCk7XG5cbiAgICAgICAgdGhpcy5zdGFnZS5zZXRDaGlsZEluZGV4KGFmdGVyLmNvbnRhaW5lciwgdGhpcy5zdGFnZS5jaGlsZHJlbi5sZW5ndGgtMSk7Ly9hZnRlcuOCkuacgOWJjemdouOBq1xuXG4gICAgICAgIHZhciB1cGRhdGUgPSBmdW5jdGlvbigpIHtcbiAgICAgICAgICAgIHZhciB0ID0gbmV3IERhdGUoKSAtIHN0YXJ0VGltZTtcbiAgICAgICAgICAgIGlmKHQ+dGhpcy5kdXJhdGlvbil7XG4gICAgICAgICAgICAgICAgLy93aW5kb3cuY2FuY2VsQW5pbWF0aW9uRnJhbWUoYWYpO1xuICAgICAgICAgICAgICAgIGJlZm9yZS5oaWRlKCk7XG4gICAgICAgICAgICAgICAgdGhpcy5pbmRleCA9IGFmdGVySW5kZXg7XG4gICAgICAgICAgICAgICAgdGhpcy5pc0FuaW1hdGluZyA9IGZhbHNlO1xuICAgICAgICAgICAgICAgIGlmKGNhbGxiYWNrKSB7XG4gICAgICAgICAgICAgICAgICAgIGNhbGxiYWNrLmJpbmQodGhpcykoKTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgICAgIHZhciBlID0gTW9ycGhpbmdTbGlkZXIuZWFzZVt0aGlzLnRyYW5zZm9ybUVhc2luZ10odCAvIHRoaXMuZHVyYXRpb24pO1xuICAgICAgICAgICAgICAgIGJlZm9yZS5wb2ludHMuZm9yRWFjaCgocG9pbnQsIGluZGV4KSA9PiB7XG4gICAgICAgICAgICAgICAgICAgIGJlZm9yZS5wb2ludHNbaW5kZXhdLnggPSBNYXRoLnJvdW5kKGFmdGVyLm9yaWdpbmFsUG9pbnRzW2luZGV4XS54ICogZSArIGJlZm9yZS5vcmlnaW5hbFBvaW50c1tpbmRleF0ueCAqICgxIC0gZSkpO1xuICAgICAgICAgICAgICAgICAgICBiZWZvcmUucG9pbnRzW2luZGV4XS55ID0gTWF0aC5yb3VuZChhZnRlci5vcmlnaW5hbFBvaW50c1tpbmRleF0ueSAqIGUgKyBiZWZvcmUub3JpZ2luYWxQb2ludHNbaW5kZXhdLnkgKiAoMSAtIGUpKTtcbiAgICAgICAgICAgICAgICAgICAgYWZ0ZXIucG9pbnRzW2luZGV4XS54ID0gTWF0aC5yb3VuZChiZWZvcmUub3JpZ2luYWxQb2ludHNbaW5kZXhdLnggKiAoMSAtIGUpICsgYWZ0ZXIub3JpZ2luYWxQb2ludHNbaW5kZXhdLnggKiBlKTtcbiAgICAgICAgICAgICAgICAgICAgYWZ0ZXIucG9pbnRzW2luZGV4XS55ID0gTWF0aC5yb3VuZChiZWZvcmUub3JpZ2luYWxQb2ludHNbaW5kZXhdLnkgKiAoMSAtIGUpICsgYWZ0ZXIub3JpZ2luYWxQb2ludHNbaW5kZXhdLnkgKiBlKTtcbiAgICAgICAgICAgICAgICB9KTtcblxuICAgICAgICAgICAgICAgIGUgPSBNb3JwaGluZ1NsaWRlci5lYXNlW3RoaXMuYWxwaGFFYXNpbmddKHQgLyB0aGlzLmR1cmF0aW9uKTtcblxuICAgICAgICAgICAgICAgIGFmdGVyLnNldEFscGhhKGUpO1xuICAgICAgICAgICAgICAgIGJlZm9yZS51cGRhdGUoKTtcbiAgICAgICAgICAgICAgICBhZnRlci51cGRhdGUoKTtcbiAgICAgICAgICAgICAgICB0aGlzLnN0YWdlLnVwZGF0ZSgpO1xuXG4gICAgICAgICAgICAgICAgd2luZG93LnJlcXVlc3RBbmltYXRpb25GcmFtZSh1cGRhdGUpO1xuICAgICAgICAgICAgfVxuICAgICAgICB9LmJpbmQodGhpcyk7XG4gICAgICAgIHZhciBhZiA9IHdpbmRvdy5yZXF1ZXN0QW5pbWF0aW9uRnJhbWUodXBkYXRlKTtcblxuICAgICAgICB0aGlzLmlzQW5pbWF0aW5nID0gdHJ1ZTtcbiAgICAgICAgcmV0dXJuIHRoaXM7XG4gICAgfVxuICAgIHBsYXkoZGlyZWN0aW9uLCBpbnRlcnZhbCwgY2FsbGJhY2spIHsgLy/ntprjgZHjgabjg6Ljg7zjg5XjgqPjg7PjgrAgZGlyZWN0aW9uOiB0cnVlPT7liY3jgbggZmFsc2U9PuW+jOOBuCwgaW50ZXJ2YWw6IOODouODvOODleOCo+ODs+OCsOmWk+malFxuICAgICAgICB2YXIgX2RpcmVjdGlvbiA9IChkaXJlY3Rpb24gPT09IHVuZGVmaW5lZCkgPyB0aGlzLmRpcmVjdGlvbiA6IGRpcmVjdGlvbjtcbiAgICAgICAgdmFyIF9pbnRlcnZhbCA9IChpbnRlcnZhbCA9PT0gdW5kZWZpbmVkKSA/IHRoaXMuaW50ZXJ2YWwgOiBpbnRlcnZhbDtcbiAgICAgICAgdmFyIF9jYWxsYmFjayA9IChjYWxsYmFjayA9PT0gdW5kZWZpbmVkKSA/IGZ1bmN0aW9uKCl7IHJldHVybiBudWxsOyB9IDogY2FsbGJhY2s7XG4gICAgICAgIHRoaXMudGltZXIgPSBzZXRJbnRlcnZhbCgoKT0+e1xuICAgICAgICAgICAgdGhpcy5tb3JwaC5iaW5kKHRoaXMpKF9kaXJlY3Rpb24sIGNhbGxiYWNrKTtcbiAgICAgICAgfSwgX2ludGVydmFsICsgdGhpcy5kdXJhdGlvbik7XG4gICAgfVxuICAgIHN0b3AoKSB7XG4gICAgICAgIGNsZWFySW50ZXJ2YWwodGhpcy50aW1lcik7XG4gICAgfVxuICAgIGNsZWFyKCkge1xuICAgICAgICB0aGlzLnNsaWRlcyA9IFtdO1xuICAgICAgICB0aGlzLnN0YWdlLmNsZWFyKCk7XG4gICAgICAgIHRoaXMuaW5kZXggPSAwO1xuICAgICAgICB0aGlzLnN0YWdlLnJlbW92ZUFsbENoaWxkcmVuKCk7XG4gICAgICAgIHJldHVybiB0aGlzO1xuICAgIH1cbn1cblxuTW9ycGhpbmdTbGlkZXIuU2xpZGUgPSBjbGFzcyBTbGlkZSB7XG4gICAgY29uc3RydWN0b3IoaW1hZ2UsIHBvaW50cywgZmFjZXMpIHtcbiAgICAgICAgdGhpcy5kb21FbGVtZW50ID0gaW1hZ2U7XG5cbiAgICAgICAgdGhpcy5vcmlnaW5hbFBvaW50cyA9IHBvaW50cztcblxuICAgICAgICB0aGlzLnBvaW50cyA9IFtdOyAvL+aPj+eUu+OBmeOCi+mam+OBruWLleeahOOBquW6p+aomVxuICAgICAgICB0aGlzLl9jbG9uZVBvaW50cygpO1xuXG4gICAgICAgIHRoaXMuZmFjZXMgPSBmYWNlcztcblxuICAgICAgICB0aGlzLmNvbnRhaW5lciA9IG5ldyBjcmVhdGVqcy5Db250YWluZXIoKTtcblxuICAgICAgICB0aGlzLl9hZGRCaXRtYXBzKCk7XG4gICAgICAgIC8vdGhpcy5jb250YWluZXIuY2hpbGRyZW4gPSB0aGlzLmNvbnRhaW5lci5jaGlsZHJlbi5jb25jYXQodGhpcy5jb250YWluZXIuY2hpbGRyZW4pO1xuXG4gICAgICAgIHJldHVybiB0aGlzO1xuICAgIH1cbiAgICBfY2xvbmVQb2ludHMoKSB7XG4gICAgICAgIHRoaXMub3JpZ2luYWxQb2ludHMuZm9yRWFjaCgocG9pbnQsIGluZGV4KSA9PiB7IC8v5a++5b+c44GZ44KL5bqn5qiZ44KS5L+d5oyB44GZ44KLXG4gICAgICAgICAgICB0aGlzLnBvaW50c1tpbmRleF0gPSB7eDogcG9pbnQueCwgeTogcG9pbnQueX07XG4gICAgICAgIH0pO1xuICAgIH1cbiAgICBfYWRkQml0bWFwcygpIHsvL+OCt+OCp+OCpOODl+OBruS9nOaIkFxuICAgICAgICBpZih3aW5kb3cubmF2aWdhdG9yLnVzZXJBZ2VudC50b0xvd2VyQ2FzZSgpLmluZGV4T2YoJ2Nocm9tZScpIDwgMCkge1xuICAgICAgICAgICAgdGhpcy5mYWNlcy5mb3JFYWNoKChmYWNlKSA9PiB7XG4gICAgICAgICAgICAgICAgdmFyIGJtcCA9IG5ldyBjcmVhdGVqcy5CaXRtYXAodGhpcy5kb21FbGVtZW50KTtcbiAgICAgICAgICAgICAgICB2YXIgc2hhcGUgPSBuZXcgY3JlYXRlanMuU2hhcGUoKTtcblxuICAgICAgICAgICAgICAgIC8vQ2hyb21l5Lul5aSW44Gu44OW44Op44Km44K244Gg44Go44Oh44OD44K344Ol44Gu44GZ44GN6ZaT44GM6KaL44GI44Gm44GX44G+44GG44Gu44KS5pS55ZaE44GZ44KLXG4gICAgICAgICAgICAgICAgdmFyIG4gPSAxLjAxOy8v5ouh5aSn546HXG4gICAgICAgICAgICAgICAgdmFyIGcgPSB7XG4gICAgICAgICAgICAgICAgICAgIHg6ICh0aGlzLnBvaW50c1tmYWNlWzBdXS54ICsgdGhpcy5wb2ludHNbZmFjZVsxXV0ueCArIHRoaXMucG9pbnRzW2ZhY2VbMl1dLngpIC8gMyxcbiAgICAgICAgICAgICAgICAgICAgeTogKHRoaXMucG9pbnRzW2ZhY2VbMF1dLnkgKyB0aGlzLnBvaW50c1tmYWNlWzFdXS55ICsgdGhpcy5wb2ludHNbZmFjZVsyXV0ueSkgLyAzXG4gICAgICAgICAgICAgICAgfTsvL+mHjeW/g1xuICAgICAgICAgICAgICAgIHZhciBkID0ge3g6IGcueCAqIChuIC0gMSksIHk6IGcueSAqIChuIC0gMSl9Oy8v5bqn5qiZ44Gu44Ga44KMXG5cbiAgICAgICAgICAgICAgICBzaGFwZS5ncmFwaGljcy5tb3ZlVG8odGhpcy5wb2ludHNbZmFjZVswXV0ueCAqIG4gLSBkLngsIHRoaXMucG9pbnRzW2ZhY2VbMF1dLnkgKiBuIC0gZC55KVxuICAgICAgICAgICAgICAgICAgICAubGluZVRvKHRoaXMucG9pbnRzW2ZhY2VbMV1dLnggKiBuIC0gZC54LCB0aGlzLnBvaW50c1tmYWNlWzFdXS55ICogbiAtIGQueSlcbiAgICAgICAgICAgICAgICAgICAgLmxpbmVUbyh0aGlzLnBvaW50c1tmYWNlWzJdXS54ICogbiAtIGQueCwgdGhpcy5wb2ludHNbZmFjZVsyXV0ueSAqIG4gLSBkLnkpO1xuICAgICAgICAgICAgICAgIGJtcC5tYXNrID0gc2hhcGU7XG4gICAgICAgICAgICAgICAgdGhpcy5jb250YWluZXIuYWRkQ2hpbGQoYm1wKTtcbiAgICAgICAgICAgIH0pO1xuICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgY29uc29sZS5sb2coXCJjaHJvbWVcIik7XG4gICAgICAgICAgICB0aGlzLmZhY2VzLmZvckVhY2goKGZhY2UpID0+IHtcbiAgICAgICAgICAgICAgICB2YXIgYm1wID0gbmV3IGNyZWF0ZWpzLkJpdG1hcCh0aGlzLmRvbUVsZW1lbnQpO1xuICAgICAgICAgICAgICAgIHZhciBzaGFwZSA9IG5ldyBjcmVhdGVqcy5TaGFwZSgpO1xuICAgICAgICAgICAgICAgIHNoYXBlLmdyYXBoaWNzLm1vdmVUbyh0aGlzLnBvaW50c1tmYWNlWzBdXS54LCB0aGlzLnBvaW50c1tmYWNlWzBdXS55KVxuICAgICAgICAgICAgICAgICAgICAubGluZVRvKHRoaXMucG9pbnRzW2ZhY2VbMV1dLngsIHRoaXMucG9pbnRzW2ZhY2VbMV1dLnkpXG4gICAgICAgICAgICAgICAgICAgIC5saW5lVG8odGhpcy5wb2ludHNbZmFjZVsyXV0ueCwgdGhpcy5wb2ludHNbZmFjZVsyXV0ueSk7XG4gICAgICAgICAgICAgICAgYm1wLm1hc2sgPSBzaGFwZTtcbiAgICAgICAgICAgICAgICB0aGlzLmNvbnRhaW5lci5hZGRDaGlsZChibXApO1xuICAgICAgICAgICAgfSk7XG4gICAgICAgIH1cbiAgICB9XG4gICAgc2V0QWxwaGEoYSkge1xuICAgICAgICB0aGlzLmNvbnRhaW5lci5hbHBoYSA9IGE7XG4gICAgICAgIHJldHVybiB0aGlzO1xuICAgIH1cbiAgICBzaG93KCkge1xuICAgICAgICB0aGlzLmNvbnRhaW5lci52aXNpYmxlID0gdHJ1ZTtcbiAgICAgICAgcmV0dXJuIHRoaXM7XG4gICAgfVxuICAgIGhpZGUoKSB7XG4gICAgICAgIHRoaXMuY29udGFpbmVyLnZpc2libGUgPSBmYWxzZTtcbiAgICAgICAgcmV0dXJuIHRoaXM7XG4gICAgfVxuICAgIHVwZGF0ZSgpIHtcbiAgICAgICAgLy/jgqLjg5XjgqPjg7PlpInmj5vooYzliJfjgpLmsYLjgoHjgIHjg5Hjg7zjg4TjgpLmj4/nlLtcbiAgICAgICAgdGhpcy5mYWNlcy5mb3JFYWNoKChmYWNlLCBpbmRleCkgPT4ge1xuICAgICAgICAgICAgdmFyIHBvaW50czEgPSBbdGhpcy5vcmlnaW5hbFBvaW50c1tmYWNlWzBdXSwgdGhpcy5vcmlnaW5hbFBvaW50c1tmYWNlWzFdXSwgdGhpcy5vcmlnaW5hbFBvaW50c1tmYWNlWzJdXV07XG4gICAgICAgICAgICB2YXIgcG9pbnRzMiA9IFt0aGlzLnBvaW50c1tmYWNlWzBdXSwgdGhpcy5wb2ludHNbZmFjZVsxXV0sIHRoaXMucG9pbnRzW2ZhY2VbMl1dXTtcbiAgICAgICAgICAgIHZhciBtYXRyaXggPSB0aGlzLl9nZXRBZmZpbmVUcmFuc2Zvcm0ocG9pbnRzMSwgcG9pbnRzMik7XG4gICAgICAgICAgICB0aGlzLmNvbnRhaW5lci5jaGlsZHJlbltpbmRleF0udHJhbnNmb3JtTWF0cml4ID0gdGhpcy5jb250YWluZXIuY2hpbGRyZW5baW5kZXhdLm1hc2sudHJhbnNmb3JtTWF0cml4ID0gbWF0cml4O1xuICAgICAgICB9KTtcbiAgICAgICAgcmV0dXJuIHRoaXM7XG4gICAgfVxuICAgIF9nZXRBZmZpbmVUcmFuc2Zvcm0ocG9pbnRzMSwgcG9pbnRzMil7XG4gICAgICAgIHZhciBhLCBiLCBjLCBkLCB0eCwgdHk7XG5cbiAgICAgICAgLy8g6YCj56uL5pa556iL5byP44KS6Kej44GPXG4gICAgICAgIGEgPSAocG9pbnRzMlswXS54ICogcG9pbnRzMVsxXS55ICsgcG9pbnRzMlsxXS54ICogcG9pbnRzMVsyXS55ICsgcG9pbnRzMlsyXS54ICogcG9pbnRzMVswXS55IC0gcG9pbnRzMlswXS54ICogcG9pbnRzMVsyXS55IC0gcG9pbnRzMlsxXS54ICogcG9pbnRzMVswXS55IC0gcG9pbnRzMlsyXS54ICogcG9pbnRzMVsxXS55KSAvIChwb2ludHMxWzBdLnggKiBwb2ludHMxWzFdLnkgKyBwb2ludHMxWzFdLnggKiBwb2ludHMxWzJdLnkgKyBwb2ludHMxWzJdLnggKiBwb2ludHMxWzBdLnkgLSBwb2ludHMxWzBdLnggKiBwb2ludHMxWzJdLnkgLSBwb2ludHMxWzFdLnggKiBwb2ludHMxWzBdLnkgLSBwb2ludHMxWzJdLnggKiBwb2ludHMxWzFdLnkpO1xuICAgICAgICBiID0gKHBvaW50czJbMF0ueSAqIHBvaW50czFbMV0ueSArIHBvaW50czJbMV0ueSAqIHBvaW50czFbMl0ueSArIHBvaW50czJbMl0ueSAqIHBvaW50czFbMF0ueSAtIHBvaW50czJbMF0ueSAqIHBvaW50czFbMl0ueSAtIHBvaW50czJbMV0ueSAqIHBvaW50czFbMF0ueSAtIHBvaW50czJbMl0ueSAqIHBvaW50czFbMV0ueSkgLyAocG9pbnRzMVswXS54ICogcG9pbnRzMVsxXS55ICsgcG9pbnRzMVsxXS54ICogcG9pbnRzMVsyXS55ICsgcG9pbnRzMVsyXS54ICogcG9pbnRzMVswXS55IC0gcG9pbnRzMVswXS54ICogcG9pbnRzMVsyXS55IC0gcG9pbnRzMVsxXS54ICogcG9pbnRzMVswXS55IC0gcG9pbnRzMVsyXS54ICogcG9pbnRzMVsxXS55KTtcbiAgICAgICAgYyA9IChwb2ludHMxWzBdLnggKiBwb2ludHMyWzFdLnggKyBwb2ludHMxWzFdLnggKiBwb2ludHMyWzJdLnggKyBwb2ludHMxWzJdLnggKiBwb2ludHMyWzBdLnggLSBwb2ludHMxWzBdLnggKiBwb2ludHMyWzJdLnggLSBwb2ludHMxWzFdLnggKiBwb2ludHMyWzBdLnggLSBwb2ludHMxWzJdLnggKiBwb2ludHMyWzFdLngpIC8gKHBvaW50czFbMF0ueCAqIHBvaW50czFbMV0ueSArIHBvaW50czFbMV0ueCAqIHBvaW50czFbMl0ueSArIHBvaW50czFbMl0ueCAqIHBvaW50czFbMF0ueSAtIHBvaW50czFbMF0ueCAqIHBvaW50czFbMl0ueSAtIHBvaW50czFbMV0ueCAqIHBvaW50czFbMF0ueSAtIHBvaW50czFbMl0ueCAqIHBvaW50czFbMV0ueSk7XG4gICAgICAgIGQgPSAocG9pbnRzMVswXS54ICogcG9pbnRzMlsxXS55ICsgcG9pbnRzMVsxXS54ICogcG9pbnRzMlsyXS55ICsgcG9pbnRzMVsyXS54ICogcG9pbnRzMlswXS55IC0gcG9pbnRzMVswXS54ICogcG9pbnRzMlsyXS55IC0gcG9pbnRzMVsxXS54ICogcG9pbnRzMlswXS55IC0gcG9pbnRzMVsyXS54ICogcG9pbnRzMlsxXS55KSAvIChwb2ludHMxWzBdLnggKiBwb2ludHMxWzFdLnkgKyBwb2ludHMxWzFdLnggKiBwb2ludHMxWzJdLnkgKyBwb2ludHMxWzJdLnggKiBwb2ludHMxWzBdLnkgLSBwb2ludHMxWzBdLnggKiBwb2ludHMxWzJdLnkgLSBwb2ludHMxWzFdLnggKiBwb2ludHMxWzBdLnkgLSBwb2ludHMxWzJdLnggKiBwb2ludHMxWzFdLnkpO1xuICAgICAgICB0eCA9IChwb2ludHMxWzBdLnggKiBwb2ludHMxWzFdLnkgKiBwb2ludHMyWzJdLnggKyBwb2ludHMxWzFdLnggKiBwb2ludHMxWzJdLnkgKiBwb2ludHMyWzBdLnggKyBwb2ludHMxWzJdLnggKiBwb2ludHMxWzBdLnkgKiBwb2ludHMyWzFdLnggLSBwb2ludHMxWzBdLnggKiBwb2ludHMxWzJdLnkgKiBwb2ludHMyWzFdLnggLSBwb2ludHMxWzFdLnggKiBwb2ludHMxWzBdLnkgKiBwb2ludHMyWzJdLnggLSBwb2ludHMxWzJdLnggKiBwb2ludHMxWzFdLnkgKiBwb2ludHMyWzBdLngpIC8gKHBvaW50czFbMF0ueCAqIHBvaW50czFbMV0ueSArIHBvaW50czFbMV0ueCAqIHBvaW50czFbMl0ueSArIHBvaW50czFbMl0ueCAqIHBvaW50czFbMF0ueSAtIHBvaW50czFbMF0ueCAqIHBvaW50czFbMl0ueSAtIHBvaW50czFbMV0ueCAqIHBvaW50czFbMF0ueSAtIHBvaW50czFbMl0ueCAqIHBvaW50czFbMV0ueSk7XG4gICAgICAgIHR5ID0gKHBvaW50czFbMF0ueCAqIHBvaW50czFbMV0ueSAqIHBvaW50czJbMl0ueSArIHBvaW50czFbMV0ueCAqIHBvaW50czFbMl0ueSAqIHBvaW50czJbMF0ueSArIHBvaW50czFbMl0ueCAqIHBvaW50czFbMF0ueSAqIHBvaW50czJbMV0ueSAtIHBvaW50czFbMF0ueCAqIHBvaW50czFbMl0ueSAqIHBvaW50czJbMV0ueSAtIHBvaW50czFbMV0ueCAqIHBvaW50czFbMF0ueSAqIHBvaW50czJbMl0ueSAtIHBvaW50czFbMl0ueCAqIHBvaW50czFbMV0ueSAqIHBvaW50czJbMF0ueSkgLyAocG9pbnRzMVswXS54ICogcG9pbnRzMVsxXS55ICsgcG9pbnRzMVsxXS54ICogcG9pbnRzMVsyXS55ICsgcG9pbnRzMVsyXS54ICogcG9pbnRzMVswXS55IC0gcG9pbnRzMVswXS54ICogcG9pbnRzMVsyXS55IC0gcG9pbnRzMVsxXS54ICogcG9pbnRzMVswXS55IC0gcG9pbnRzMVsyXS54ICogcG9pbnRzMVsxXS55KTtcblxuICAgICAgICByZXR1cm4gbmV3IGNyZWF0ZWpzLk1hdHJpeDJEKGEsIGIsIGMsIGQsIHR4LCB0eSk7XG4gICAgfVxufVxuXG5Nb3JwaGluZ1NsaWRlci5lYXNlID0ge1xuICAgIC8vIG5vIGVhc2luZywgbm8gYWNjZWxlcmF0aW9uXG4gICAgbGluZWFyOiBmdW5jdGlvbiAodCkgeyByZXR1cm4gdCB9LFxuICAgIC8vIGFjY2VsZXJhdGluZyBmcm9tIHplcm8gdmVsb2NpdHlcbiAgICBlYXNlSW5RdWFkOiBmdW5jdGlvbiAodCkgeyByZXR1cm4gdCp0IH0sXG4gICAgLy8gZGVjZWxlcmF0aW5nIHRvIHplcm8gdmVsb2NpdHlcbiAgICBlYXNlT3V0UXVhZDogZnVuY3Rpb24gKHQpIHsgcmV0dXJuIHQqKDItdCkgfSxcbiAgICAvLyBhY2NlbGVyYXRpb24gdW50aWwgaGFsZndheSwgdGhlbiBkZWNlbGVyYXRpb25cbiAgICBlYXNlSW5PdXRRdWFkOiBmdW5jdGlvbiAodCkgeyByZXR1cm4gdDwuNSA/IDIqdCp0IDogLTErKDQtMip0KSp0IH0sXG4gICAgLy8gYWNjZWxlcmF0aW5nIGZyb20gemVybyB2ZWxvY2l0eVxuICAgIGVhc2VJbkN1YmljOiBmdW5jdGlvbiAodCkgeyByZXR1cm4gdCp0KnQgfSxcbiAgICAvLyBkZWNlbGVyYXRpbmcgdG8gemVybyB2ZWxvY2l0eVxuICAgIGVhc2VPdXRDdWJpYzogZnVuY3Rpb24gKHQpIHsgcmV0dXJuICgtLXQpKnQqdCsxIH0sXG4gICAgLy8gYWNjZWxlcmF0aW9uIHVudGlsIGhhbGZ3YXksIHRoZW4gZGVjZWxlcmF0aW9uXG4gICAgZWFzZUluT3V0Q3ViaWM6IGZ1bmN0aW9uICh0KSB7IHJldHVybiB0PC41ID8gNCp0KnQqdCA6ICh0LTEpKigyKnQtMikqKDIqdC0yKSsxIH0sXG4gICAgLy8gYWNjZWxlcmF0aW5nIGZyb20gemVybyB2ZWxvY2l0eVxuICAgIGVhc2VJblF1YXJ0OiBmdW5jdGlvbiAodCkgeyByZXR1cm4gdCp0KnQqdCB9LFxuICAgIC8vIGRlY2VsZXJhdGluZyB0byB6ZXJvIHZlbG9jaXR5XG4gICAgZWFzZU91dFF1YXJ0OiBmdW5jdGlvbiAodCkgeyByZXR1cm4gMS0oLS10KSp0KnQqdCB9LFxuICAgIC8vIGFjY2VsZXJhdGlvbiB1bnRpbCBoYWxmd2F5LCB0aGVuIGRlY2VsZXJhdGlvblxuICAgIGVhc2VJbk91dFF1YXJ0OiBmdW5jdGlvbiAodCkgeyByZXR1cm4gdDwuNSA/IDgqdCp0KnQqdCA6IDEtOCooLS10KSp0KnQqdCB9LFxuICAgIC8vIGFjY2VsZXJhdGluZyBmcm9tIHplcm8gdmVsb2NpdHlcbiAgICBlYXNlSW5RdWludDogZnVuY3Rpb24gKHQpIHsgcmV0dXJuIHQqdCp0KnQqdCB9LFxuICAgIC8vIGRlY2VsZXJhdGluZyB0byB6ZXJvIHZlbG9jaXR5XG4gICAgZWFzZU91dFF1aW50OiBmdW5jdGlvbiAodCkgeyByZXR1cm4gMSsoLS10KSp0KnQqdCp0IH0sXG4gICAgLy8gYWNjZWxlcmF0aW9uIHVudGlsIGhhbGZ3YXksIHRoZW4gZGVjZWxlcmF0aW9uXG4gICAgZWFzZUluT3V0UXVpbnQ6IGZ1bmN0aW9uICh0KSB7IHJldHVybiB0PC41ID8gMTYqdCp0KnQqdCp0IDogMSsxNiooLS10KSp0KnQqdCp0IH1cbn07XG5cbmV4cG9ydCBkZWZhdWx0IE1vcnBoaW5nU2xpZGVyO1xuIl19
